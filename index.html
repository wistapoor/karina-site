<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ö–∞—Ä–∏–Ω–∞, —Ç—ã –ø–µ—Ä–µ–¥—É–º–∞–ª–∞?</title>
<style>
  body {
    background-color: #ffe4e8; /* –º—è–≥–∫–∏–π —Å–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π */
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 40px 20px;
    color: #5a3e1b;
    position: relative;
    min-height: 100vh;
    overflow-x: hidden;
  }
  h1, h2 {
    text-shadow: 2px 2px 6px #c38a1a;
  }
  #survey, #mainQuestion, #letter {
    max-width: 500px;
    margin: 20px auto;
    background: rgba(255, 240, 245, 0.9);
    border-radius: 15px;
    padding: 25px 20px;
    box-shadow: 0 0 15px rgba(195, 138, 26, 0.7);
  }
  button, #writeMe {
    background-color: #d38c00;
    border: none;
    padding: 12px 30px;
    margin: 15px 10px 0 10px;
    font-size: 1.2em;
    color: white;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    position: relative;
    text-decoration: none;
    display: inline-block;
  }
  button:hover, #writeMe:hover {
    background-color: #a86e00;
  }
  #noBtn {
    position: absolute;
  }
  #message {
    margin-top: 25px;
    font-size: 1.8em;
    text-shadow: 1px 1px 4px #c38a1a;
    min-height: 2.5em;
  }
  .hidden {
    display: none;
  }
  .heart {
    position: fixed;
    width: 40px;
    height: 40px;
    background: url('https://i.imgur.com/l9KzM1Z.png') no-repeat center center/contain;
    pointer-events: none;
    animation: flyUp 2s forwards ease-out;
    z-index: 1000;
  }
  @keyframes flyUp {
    0% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-50px) scale(1.2);
    }
    100% {
      opacity: 0;
      transform: translateY(-150px) scale(0.5);
    }
  }
  #timerMessage {
    margin-top: 20px;
    font-size: 1.3em;
    color: #5a3e1b;
    text-shadow: 1px 1px 4px #c38a1a;
    min-height: 1.5em;
  }
  #letter p {
    font-size: 1.1em;
    line-height: 1.5;
    margin-top: 10px;
    color: #5a3e1b;
    text-shadow: 1px 1px 4px #c38a1a;
  }
</style>
</head>
<body>

<h1>–ü—Ä–∏–≤–µ—Ç, –ö–∞—Ä–∏–Ω–∞!</h1>

<div id="survey">
  <h2>–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º</h2>
  <div id="q1">
    <p>1. –ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–≥–æ–¥–Ω—è?</p>
    <button data-answer="–•–æ—Ä–æ—à–æ">–•–æ—Ä–æ—à–æ</button>
    <button data-answer="–ù–µ –æ—á–µ–Ω—å">–ù–µ –æ—á–µ–Ω—å</button>
  </div>
  <div id="q2" class="hidden">
    <p>2. –¢—ã –ø–æ–º–Ω–∏—à—å –Ω–∞—à–∏ —Ö–æ—Ä–æ—à–∏–µ –º–æ–º–µ–Ω—Ç—ã?</p>
    <button data-answer="–î–∞, –æ—á–µ–Ω—å">–î–∞, –æ—á–µ–Ω—å</button>
    <button data-answer="–°–∫–æ—Ä–µ–µ –Ω–µ—Ç">–°–∫–æ—Ä–µ–µ –Ω–µ—Ç</button>
  </div>
  <div id="q3" class="hidden">
    <p>3. –¢—ã –≥–æ—Ç–æ–≤–∞ –¥–∞—Ç—å –º–Ω–µ –≤—Ç–æ—Ä–æ–π —à–∞–Ω—Å–∏–∫üôè?</p>
    <button data-answer="–ì–æ—Ç–æ–≤–∞">–ì–æ—Ç–æ–≤–∞</button>
    <button data-answer="–ï—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞">–ï—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞</button>
  </div>
</div>

<div id="mainQuestion" class="hidden">
  <h2>–ö–∞—Ä–∏–Ω–∞, —Ç—ã –ø–µ—Ä–µ–¥—É–º–∞–ª–∞?</h2>
  <div id="buttons" style="position: relative; height: 60px;">
    <button id="yesBtn">–î–∞</button>
    <button id="noBtn">–ù–µ—Ç</button>
  </div>
  <div id="message"></div>
  <div id="timerMessage"></div>
  <a href="https://t.me/wistapoor_mng" target="_blank" id="writeMe" class="hidden">–ù–∞–ø–∏—à–∏ –º–Ω–µ</a>
</div>

<div id="letter" class="hidden">
  <h2>–ú–æ—ë –∏—Å–∫—Ä–µ–Ω–Ω–µ–µ –ø–∏—Å—å–º–æ</h2>
  <p>–ö–∞—Ä–∏–Ω–∞, —è —Ö–æ—á—É –∏—Å–∫—Ä–µ–Ω–Ω–µ –∏–∑–≤–∏–Ω–∏—Ç—å—Å—è –∑–∞ —Ç–æ, —á—Ç–æ –Ω–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –ø–ª–æ—Ö–æ. –Ø –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ —Ç–µ–±—è –ª—é–±–ª—é –∏ —Ö–æ—á—É –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è, —á—Ç–æ–±—ã –≤—Å—ë –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ.</p>
  <p>–Ø –ø—Ä–∞–≤–¥–∞ –∏—Å–∫—Ä–µ–Ω–Ω–µ —Å–æ–∂–∞–ª–µ—é –∑–∞ –≤—Å—ë —á—Ç–æ –±—ã–ª–æ –Ω–∞–¥–µ—é—Å—å —Ç—ã –≤—Å—ë —Ç–∞–∫–∏ –º–µ–Ω—è –ø—Ä–æ—Å—Ç–∏—à—å –∏ –≤—Å—ë –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ!!</p>
</div>

<script>
  let userName = '';

  while (!userName) {
    userName = prompt('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è:');
    if (!userName) alert('–ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!');
  }

  const survey = document.getElementById('survey');
  const mainQuestion = document.getElementById('mainQuestion');
  const letter = document.getElementById('letter');

  const q1 = document.getElementById('q1');
  const q2 = document.getElementById('q2');
  const q3 = document.getElementById('q3');

  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const message = document.getElementById('message');
  const timerMessage = document.getElementById('timerMessage');
  const writeMe = document.getElementById('writeMe');

  let noClicks = 0;

  function nextQuestion(current, next) {
    current.classList.add('hidden');
    next.classList.remove('hidden');
  }

  survey.addEventListener('click', e => {
    if (e.target.tagName === 'BUTTON') {
      if (!q2.classList.contains('hidden')) {
        nextQuestion(q2, q3);
      } else if (!q3.classList.contains('hidden')) {
        survey.classList.add('hidden');
        mainQuestion.classList.remove('hidden');
        startTimer();
      } else {
        nextQuestion(q1, q2);
      }
    }
  });

  noBtn.style.position = 'absolute';
  noBtn.style.left = '50%';
  noBtn.style.top = '0';

  noBtn.addEventListener('click', () => {
    noClicks++;
    message.textContent = `–¢—ã —É–∂–µ –ø—ã—Ç–∞–ª–∞—Å—å –Ω–∞–∂–∞—Ç—å "–ù–µ—Ç" ${noClicks} —Ä–∞–∑, –Ω–æ —è –≤—Å—ë —Ä–∞–≤–Ω–æ –∂–¥—É "–î–∞"!`;

    const x = Math.floor(Math.random() * (window.innerWidth - noBtn.offsetWidth));
    const y = Math.floor(Math.random() * (window.innerHeight - noBtn.offsetHeight - 150)) + 50;
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';

    if (noClicks === 2) {
      letter.classList.remove('hidden');
    }
  });

  yesBtn.addEventListener('click', (e) => {
    message.textContent = `–£–†–ê–ê–ê–ê–ê–ê –Ω–∞–∫–æ–Ω–µ—Ü —Ç–æ, ${userName}!`;
    yesBtn.disabled = true;
    noBtn.disabled = true;

    letter.classList.remove('hidden');

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É "–ù–∞–ø–∏—à–∏ –º–Ω–µ"
    writeMe.classList.remove('hidden');

    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.style.left = (e.clientX - 20) + 'px';
    heart.style.top = (e.clientY - 20) + 'px';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 2000);
  });

  function startTimer() {
    setTimeout(() => {
      timerMessage.textContent = '–ö–∞—Ä–∏–Ω–∞, –ø–æ–¥—É–º–∞–π —Ö–æ—Ä–æ—à–µ–Ω—å–∫–æ!';
    }, 10000);
  }
</script>

</body>
</html>
